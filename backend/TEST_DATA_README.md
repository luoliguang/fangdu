# 测试数据生成器使用说明

## 概述

`test-data-generator.js` 是一个独立的测试数据生成工具，用于为方度素材库项目生成丰富的测试数据，包括：

- 📸 **素材数据**：各种类型的图片和视频素材
- 💬 **用户反馈**：模拟用户留言和反馈
- 📊 **访问记录**：模拟用户访问统计数据

## 使用方法

### 1. 生成测试数据

在后端目录下运行：

```bash
cd backend
node test-data-generator.js
```

### 2. 启动服务器测试

生成数据后，启动前后端服务器：

```bash
# 启动后端（在 backend 目录）
node server.js

# 启动前端（在 frontend 目录，新终端）
npm run dev
```

## 生成的测试数据

### 素材数据（70+ 条）

包含以下分类：

- **面料类**：速干面料、珠地棉、涤纶混纺等
- **服装款式**：T恤、衬衫、卫衣、夹克等
- **工艺细节**：车线工艺、包边处理、拉链安装等
- **颜色系列**：基础色、经典色、彩色对比等
- **尺码规格**：S/M/L/XL 各种版型
- **季节系列**：春夏秋冬不同款式
- **特殊功能**：防水、抗菌、UV防护等
- **印花图案**：条纹、几何、文字、渐变等

### 用户反馈数据（5 条）

包含：
- 待处理反馈
- 已处理反馈
- 不同类型的用户建议

### 访问统计数据（300+ 条）

包含：
- 过去30天的访问记录
- 多个不同IP地址的访问
- 不同页面的访问统计
- 真实的时间分布

## 功能特点

### ✅ 安全性
- 独立运行，不影响生产环境
- 可重复执行，每次都会清空旧数据
- 不会影响现有的服务器运行

### ✅ 完整性
- 涵盖所有数据表
- 数据关联性合理
- 支持搜索和筛选功能测试

### ✅ 真实性
- 模拟真实的业务场景
- 时间数据分布合理
- 标签和分类符合实际使用

## 测试场景

生成数据后，您可以测试以下功能：

### 🔍 搜索功能
- 搜索 "圆领短袖" - 测试服装款式搜索
- 搜索 "面料" - 测试面料相关素材
- 搜索 "工艺" - 测试工艺细节展示
- 搜索 "春季" - 测试季节分类

### 🏷️ 标签筛选
- 点击 "T恤" 标签
- 点击 "面料" 标签
- 点击 "工艺" 标签
- 点击 "颜色" 标签

### 📊 统计功能
- 访问 `/statistics` 查看数据统计
- 查看访问趋势图表
- 查看在线用户统计
- 查看页面热度分析

### 💬 反馈管理
- 访问管理后台查看用户反馈
- 测试反馈状态更新
- 查看待处理反馈数量

## 注意事项

1. **数据重置**：每次运行都会清空现有数据，请确保重要数据已备份
2. **文件路径**：生成的素材路径是虚拟的，实际文件不存在，但不影响功能测试
3. **数据库位置**：数据存储在 `backend/database/materials.db`
4. **独立运行**：可以在服务器运行时执行，不会冲突

## 故障排除

### 如果遇到数据库错误：
```bash
# 删除现有数据库文件重新生成
rm -rf backend/database/
node test-data-generator.js
```

### 如果需要自定义数据：
编辑 `test-data-generator.js` 文件中的 `testMaterials`、`testFeedbacks` 数组来添加您自己的测试数据。

## 联系支持

如果在使用过程中遇到问题，请检查：
1. Node.js 版本是否兼容
2. 数据库目录权限是否正确
3. 依赖包是否完整安装

---

**提示**：这个工具专为开发和测试环境设计，请不要在生产环境中使用。